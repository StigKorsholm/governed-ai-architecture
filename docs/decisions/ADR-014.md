# ADR-014: OpenAPI as the Canonical API Artifact

> **Status:** ✅ Accepted  
> **Date:** 2025-12-22  
> **Triggered By:** ADR-001 (output artifact decisions)  
> **Triggers:** —

---

## Summary

* **Decision:** APIs generated must be output as OpenAPI 3.x specifications. Specifications must parse successfully and pass linting.
* **Chosen approach:** OpenAPI 3.0/3.1, validation via swagger-parser, linting via Spectral, BIAN alignment extensions.
* **Why:** OpenAPI is the industry standard. Parseable specs enable downstream tooling and code generation.
* **Scope:** This ADR covers API artifact format. Specific designs are implementation details.

---

## Decision

We will use **OpenAPI 3.x as the canonical API artifact**:

### Validation requirements

| Check | Tool | Severity |
|-------|------|----------|
| Parses successfully | swagger-parser | FAIL |
| No undefined $refs | swagger-parser | FAIL |
| Consistent naming | Spectral | WARN |

### BIAN alignment extensions

```yaml
info:
  x-bian-service-domain: CurrentAccount
  x-bian-functional-pattern: Fulfill

paths:
  /current-accounts:
    post:
      x-bian-action-term: Initiate
```

---

## Consequences

### Positive Consequences

- Produces implementable contracts
- Enables code generation
- Aligns with BIAN API standards

### Negative Consequences

- Lint rule governance required

---

## References

- **OpenAPI Specification:** https://spec.openapis.org/oas/v3.0.3
- **Related ADRs:** ADR-001 (artifacts), ADR-003 (filesystem), ADR-013 (BIAN)
