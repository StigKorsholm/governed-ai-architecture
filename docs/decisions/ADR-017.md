# ADR-017: Capture Reviewer Corrections as Structured Memory

> **Status:** ✅ Accepted  
> **Date:** 2025-12-22  
> **Triggered By:** ADR-008 (consequence: "Corrections must be captured for learning")  
> **Triggers:** ADR-018

---

## Summary

* **Decision:** Reviewer corrections (BIAN overrides, dictionary updates, prompt issues) are captured as structured memory and applied to future runs via pattern matching.
* **Chosen approach:** Typed correction records, pattern-based application, governed lifecycle.
* **Why:** The system must improve over time without losing reproducibility. Corrections are valuable signals.
* **Scope:** This ADR covers correction capture. Matching algorithms are implementation details.

---

## Decision

We will capture **corrections as structured memory**:

### Correction types

| Type | Storage | Application |
|------|---------|-------------|
| **BIAN Override** | Override memory | Pattern match in mapping |
| **Dictionary Update** | Business glossary | Term recognition |
| **Prompt Issue** | Issue tracker | Prompt revision queue |

### Override lifecycle

```
Created → Pending Review → Active → [Deprecated]
```

### Application process

1. Load active overrides matching current phase
2. Check if pattern matches item
3. If match, apply correction instead of LLM output
4. Log override application

---

## Decision Rationale

> Human corrections are training data. Structured capture turns expensive human effort into reusable improvement.

---

## Consequences

### Triggered ADRs

| Consequence | Triggers |
|-------------|----------|
| Prompts must also be versioned | ADR-018 |

### Positive Consequences

- System improves over time
- Reviewer effort is preserved
- Consistent handling of known patterns

### Negative Consequences

- Override lifecycle management required
- Must version memory in manifests

---

## References

- **Related ADRs:** ADR-008 (checkpoints), ADR-018 (prompt versioning)
